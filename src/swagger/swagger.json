{
  "openapi": "3.0.0",
  "info": {
    "version": "1.0.0",
    "title": "Recommender",
    "description": "Service for Artist Recommendation"
  },
  "servers": [
    {
      "url": "http://52.66.164.23/api"
    },
    {
      "url": "http://localhost:3000"
    }
  ],
  "paths": {
    "/artists/recommendations/": {
      "post": {
        "description": "Add concert data and return concertId ans curates recomendation",
        "parameters": [
          {
            "in": "header",
            "name": "userid",
            "schema": {
              "type": "string"
            },
            "required": true
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/QuestionData"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Saved form data with id",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConcertCreationResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BadRequest"
                }
              }
            }
          }
        }
      },
      "get": {
        "description": "get artist concert data.",
        "parameters": [
          {
            "in": "header",
            "name": "userid",
            "schema": {
              "type": "string"
            },
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Artist Recommendation Schema",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConcertCreationResponse"
                }
              }
            }
          }
        }
      },
      "patch": {
        "description": "update recommendations.",
        "parameters": [
          {
            "in": "header",
            "name": "userid",
            "schema": {
              "type": "string"
            },
            "required": true
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PatchRecommendationRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Returns success",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PatchRecommendationResponse"
                }
              }
            }
          }
        }
      }
    },
    "/artists/recommendations/{id}": {
      "delete": {
        "description": "Delete consertfrom and return success.",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "required": true
          },
          {
            "in": "header",
            "name": "userid",
            "schema": {
              "type": "string"
            },
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Saved form data with id",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeleteCurationResponse"
                }
              }
            }
          }
        }
      },
      "get": {
        "description": "get the match data based on the given questions",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "required": true
          },
          {
            "in": "header",
            "name": "userid",
            "schema": {
              "type": "string"
            },
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "A list of recommended artists with respect to form id",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/matchData"
                }
              }
            }
          }
        }
      }
    },
    "/artists/{id}": {
      "get": {
        "description": "get artist data with artist id",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "required": true
          },
          {
            "in": "header",
            "name": "userid",
            "schema": {
              "type": "string"
            },
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Artist Schema",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/artistData"
                }
              }
            }
          }
        }
      }
    },
    "/notification": {
      "post": {
        "description": "Send notification on platforms like email, facebook etc.",
        "parameters": [
          {
            "in": "header",
            "name": "userid",
            "schema": {
              "type": "string"
            },
            "required": true
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NotificationData"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Notification/ Message sent sucessfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotificationSuccess"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BadRequest"
                }
              }
            }
          },
          "500": {
            "description": "Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotificationServerError"
                }
              }
            }
          }
        }
      }
    },
    "/auth/login": {
      "post": {
        "description": "Login to system by username and password.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Login"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Login Sucessfull",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginStatus"
                }
              }
            }
          },
          "404": {
            "description": "Username or password incorrect.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginStatus"
                }
              }
            }
          }
        }
      }
    },
    "/auth/signup": {
      "post": {
        "description": "Login to system by username and password.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SignUp"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "SignUp Sucessfull",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SignUpStatus"
                }
              }
            }
          },
          "401": {
            "description": "Duplicate User dectected.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SignUpStatus"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "QuestionData": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "string"
          },
          "concertName": {
            "type": "string"
          },
          "eventType": {
            "type": "string"
          },
          "venue": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "artistBudget": {
            "type": "object",
            "properties": {
              "min": {
                "type": "number"
              },
              "max": {
                "type": "number"
              }
            }
          },
          "sponsorshipType": {
            "type": "string"
          },
          "wantedBrands": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "brandName": {
                  "type": "string"
                },
                "brandId": {
                  "type": "string"
                }
              }
            }
          },
          "unwantedBrands": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "brandName": {
                  "type": "string"
                },
                "brandId": {
                  "type": "string"
                }
              }
            }
          },
          "targetAudience": {
            "type": "object",
            "properties": {
              "ageGroup": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "genre": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "brandName": {
                      "type": "string"
                    },
                    "brandId": {
                      "type": "string"
                    }
                  }
                }
              },
              "gender": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            }
          },
          "whatSellsMost": {
            "type": "object",
            "properties": {
              "beer": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "brandName": {
                      "type": "string"
                    },
                    "brandId": {
                      "type": "string"
                    }
                  }
                }
              },
              "liquor": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "brandName": {
                      "type": "string"
                    },
                    "brandId": {
                      "type": "string"
                    }
                  }
                }
              },
              "softDrints": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "brandName": {
                      "type": "string"
                    },
                    "brandId": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "matchData": {
        "type": "object",
        "properties": {
          "data": {
            "type": "object",
            "properties": {
              "concertData": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string"
                  },
                  "dateCreated": {
                    "type": "string"
                  },
                  "userId": {
                    "type": "string"
                  },
                  "concertName": {
                    "type": "string"
                  },
                  "eventType": {
                    "type": "string"
                  },
                  "venue": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "artistBudget": {
                    "type": "object",
                    "properties": {
                      "min": {
                        "type": "number"
                      },
                      "max": {
                        "type": "number"
                      }
                    }
                  },
                  "sponsorshipType": {
                    "type": "string"
                  },
                  "wantedBrands": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "brandName": {
                          "type": "string"
                        },
                        "brandId": {
                          "type": "string"
                        }
                      }
                    }
                  },
                  "unwantedBrands": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "brandName": {
                          "type": "string"
                        },
                        "brandId": {
                          "type": "string"
                        }
                      }
                    }
                  },
                  "targetAudience": {
                    "type": "object",
                    "properties": {
                      "ageGroup": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "genre": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "genreName": {
                              "type": "string"
                            },
                            "genreId": {
                              "type": "string"
                            }
                          }
                        }
                      },
                      "gender": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      }
                    }
                  },
                  "whatSellsMost": {
                    "type": "object",
                    "properties": {
                      "beer": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "brandName": {
                              "type": "string"
                            },
                            "brandId": {
                              "type": "string"
                            }
                          }
                        }
                      },
                      "liquor": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "brandName": {
                              "type": "string"
                            },
                            "brandId": {
                              "type": "string"
                            }
                          }
                        }
                      },
                      "softDrints": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "brandName": {
                              "type": "string"
                            },
                            "brandId": {
                              "type": "string"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              },
              "artists": {
                "type": "array",
                "description": "Array of artists.",
                "items": {
                  "type": "object",
                  "properties": {
                    "artistName": {
                      "type": "string"
                    },
                    "artistId": {
                      "type": "string"
                    },
                    "artistGender": {
                      "type": "string"
                    },
                    "artistImage": {
                      "type": "string"
                    },
                    "matchPercentage": {
                      "type": "number"
                    },
                    "matchAttributes": {
                      "type": "object",
                      "properties": {
                        "venues": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "name": {
                                "type": "string"
                              },
                              "address": {
                                "type": "object",
                                "properties": {
                                  "pincode": {
                                    "type": "number"
                                  },
                                  "country": {
                                    "type": "string"
                                  },
                                  "city": {
                                    "type": "string"
                                  },
                                  "geoLocation": {
                                    "type": "object",
                                    "properties": {
                                      "lat": {
                                        "type": "number"
                                      },
                                      "long": {
                                        "type": "number"
                                      }
                                    }
                                  }
                                }
                              },
                              "venueCapacity": {
                                "type": "number"
                              },
                              "matchPercentage": {
                                "type": "number"
                              }
                            }
                          }
                        },
                        "age": {
                          "type": "object",
                          "properties": {
                            "ageGroup": {
                              "type": "string"
                            },
                            "matchPercentage": {
                              "type": "number"
                            }
                          }
                        },
                        "gender": {
                          "type": "object",
                          "properties": {
                            "male": {
                              "type": "number"
                            },
                            "female": {
                              "type": "number"
                            }
                          }
                        },
                        "genre": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "genreName": {
                                "type": "string"
                              },
                              "matchPercentage": {
                                "type": "number"
                              }
                            }
                          }
                        },
                        "associatedBrands": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "name": {
                                "type": "string"
                              },
                              "contact": {
                                "type": "string"
                              },
                              "website": {
                                "type": "string"
                              },
                              "logoUrl": {
                                "type": "string"
                              }
                            }
                          }
                        }
                      }
                    },
                    "summary": {
                      "type": "string"
                    }
                  }
                }
              },
              "status": {
                "type": "boolean"
              }
            }
          },
          "success": {
            "type": "boolean"
          }
        }
      },
      "artistData": {
        "type": "object",
        "properties": {
          "artistName": {
            "type": "string"
          },
          "contryOrigin": {
            "type": "string"
          },
          "artistId": {
            "type": "string"
          },
          "artistImage": {
            "type": "string"
          },
          "coverImage": {
            "type": "string"
          },
          "artistBio": {
            "type": "string"
          },
          "matchPercentage": {
            "type": "number"
          },
          "socialMediaAnalytics": {
            "type": "object",
            "properties": {
              "youtube": {
                "type": "object",
                "properties": {
                  "channel": {
                    "type": "string"
                  },
                  "subscribers": {
                    "type": "number"
                  },
                  "avgLikes": {
                    "type": "number"
                  },
                  "engegmentRatio": {
                    "type": "number"
                  },
                  "avgView": {
                    "type": "number"
                  },
                  "audience": {
                    "type": "object",
                    "properties": {
                      "age": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "ageGroup": {
                              "type": "string"
                            },
                            "matchPercentage": {
                              "type": "number"
                            }
                          }
                        }
                      },
                      "gender": {
                        "type": "object",
                        "properties": {
                          "male": {
                            "type": "number"
                          },
                          "female": {
                            "type": "number"
                          }
                        }
                      },
                      "genre": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "genreName": {
                              "type": "string"
                            },
                            "matchPercentage": {
                              "type": "number"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              },
              "spotify": {
                "type": "object",
                "properties": {
                  "channel": {
                    "type": "string"
                  },
                  "subscribers": {
                    "type": "number"
                  },
                  "avgLikes": {
                    "type": "number"
                  },
                  "engegmentRatio": {
                    "type": "number"
                  },
                  "avgView": {
                    "type": "number"
                  },
                  "audience": {
                    "type": "object",
                    "properties": {
                      "age": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "ageGroup": {
                              "type": "string"
                            },
                            "matchPercentage": {
                              "type": "number"
                            }
                          }
                        }
                      },
                      "gender": {
                        "type": "object",
                        "properties": {
                          "male": {
                            "type": "number"
                          },
                          "female": {
                            "type": "number"
                          }
                        }
                      },
                      "genre": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "genreName": {
                              "type": "string"
                            },
                            "matchPercentage": {
                              "type": "number"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              },
              "twitter": {
                "type": "object",
                "properties": {
                  "channel": {
                    "type": "string"
                  },
                  "followers": {
                    "type": "number"
                  },
                  "avgLikes": {
                    "type": "number"
                  },
                  "totalTweets": {
                    "type": "number"
                  },
                  "avgView": {
                    "type": "number"
                  },
                  "audience": {
                    "type": "object",
                    "properties": {
                      "age": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "ageGroup": {
                              "type": "string"
                            },
                            "matchPercentage": {
                              "type": "number"
                            }
                          }
                        }
                      },
                      "gender": {
                        "type": "object",
                        "properties": {
                          "male": {
                            "type": "number"
                          },
                          "female": {
                            "type": "number"
                          }
                        }
                      },
                      "genre": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "genreName": {
                              "type": "string"
                            },
                            "matchPercentage": {
                              "type": "number"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "manager": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              },
              "id": {
                "type": "string"
              },
              "contactInfo": {
                "type": "object",
                "properties": {
                  "mobileNo": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "email": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "venues": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string"
                },
                "name": {
                  "type": "string"
                },
                "address": {
                  "type": "object",
                  "properties": {
                    "pincode": {
                      "type": "number"
                    },
                    "country": {
                      "type": "string"
                    },
                    "city": {
                      "type": "string"
                    },
                    "geoLocation": {
                      "type": "object",
                      "properties": {
                        "lat": {
                          "type": "number"
                        },
                        "long": {
                          "type": "number"
                        }
                      }
                    }
                  }
                },
                "venueCapacity": {
                  "type": "number"
                },
                "matchPercentage": {
                  "type": "number"
                }
              }
            }
          },
          "age": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "ageGroup": {
                  "type": "string"
                },
                "matchPercentage": {
                  "type": "number"
                }
              }
            }
          },
          "gender": {
            "type": "object",
            "properties": {
              "male": {
                "type": "number"
              },
              "female": {
                "type": "number"
              }
            }
          },
          "genre": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "genreName": {
                  "type": "string"
                },
                "matchPercentage": {
                  "type": "number"
                }
              }
            }
          },
          "associatedBrands": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string"
                },
                "name": {
                  "type": "string"
                },
                "contact": {
                  "type": "string"
                },
                "website": {
                  "type": "string"
                },
                "logoUrl": {
                  "type": "string"
                }
              }
            }
          }
        }
      },
      "NotificationData": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "email",
              "facebook",
              "twitter",
              "message"
            ]
          },
          "recipients": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "subject": {
            "type": "string"
          },
          "message": {
            "type": "string"
          }
        }
      },
      "NotificationSuccess": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "enum": [
              "email sent successfully",
              "facebook notification sent successfully",
              "twitter notification send successfully"
            ]
          }
        }
      },
      "BadRequest": {
        "type": "object",
        "properties": {
          "errorMessage": {
            "type": "string"
          },
          "error": {
            "type": "boolean"
          }
        }
      },
      "NotificationServerError": {
        "type": "object",
        "properties": {
          "errorMessage": {
            "type": "string"
          },
          "error": {
            "type": "boolean"
          }
        }
      },
      "ConcertCreationResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "concertName": {
            "type": "string"
          },
          "status": {
            "type": "boolean"
          },
          "dateCreated": {
            "type": "string"
          }
        }
      },
      "DeleteCurationResponse": {
        "type": "object",
        "properties": {
          "formId": {
            "type": "string"
          },
          "success": {
            "type": "boolean"
          }
        }
      },
      "PatchRecommendationRequest": {
        "type": "object",
        "properties": {
          "formId": {
            "type": "string"
          },
          "discardedArtistId": {
            "type": "string"
          },
          "userId": {
            "type": "string"
          }
        }
      },
      "PatchRecommendationResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          }
        }
      },
      "Login": {
        "type": "object",
        "properties": {
          "username": {
            "type": "string"
          },
          "password": {
            "type": "string"
          }
        }
      },
      "SignUp": {
        "type": "object",
        "properties": {
          "username": {
            "type": "string"
          },
          "password": {
            "type": "string"
          }
        }
      },
      "LoginStatus": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          }
        }
      },
      "SignUpStatus": {
        "type": "object",
        "properties": {
          "status": {
            "type": "boolean"
          }
        }
      }
    }
  }
}